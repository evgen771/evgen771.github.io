---
layout: post
title: sed → sd — современная альтернатива sed, упрощающая замену текста.
categories: Программы
---

#### Примеры использования:

- Заменить «foo» на «bar» в файле:

`sd 'foo' 'bar' file.txt`

- Заменить «foo» на «bar» во всех .txt файлах в каталоге:

`sd 'foo' 'bar' *.txt`

`sd -s 'https://www.gnu.org/software/sed/manual/sed.html' 'https://github.com/chmln/sd'`

- -s опция сообщает sd для буквального чтения входных строк, специальных символов и всего остального. Это отличный вариант для простых замен, когда вам не нужна мощная мощность регулярных выражений.
    

#### Замена текста в файле на новый:

`sd 'старый_текст' 'новый_текст' file.txt`

#### Удаление всех цифр из файла:

`sd "\d+" "" file.txt`

#### Преобразование email (user@domain → domain.user):

`sd '(\w+)@(\w+)' '$2.$1' file.txt`

#### Точная замена строки (без регулярных выражений -s):

`sd -s "[test]" "[TEST]" file.txt` 

#### Удаление пробелов в конце строки:

`echo 'привет мир   ' | sd '\s+$' ''`

```
    \s+ — один или более пробельных символов (пробелы, табуляции и т. д.);
    $ — конец строки;
    '' — замена на пустую строку.
```

#### Удаление только обычных пробелов (без табуляций)

`sd ' +$' '' файл.txt`

Отличие: `+` ищет только обычные пробелы (не затрагивает табуляции)

#### Предпросмотр изменений перед заменой (флаг -p):

`sd -p "old" "new" file.txt` 

### Установка:

#### установка в FreeBSD

- pkg install sd

#### установка в Arch Linux

- yay -S sd

#### универсальная установка через cargo

- cargo install sd

#### установка через snap

- sudo snap install sd

#### установка через dnf

- sudo dnf install sd



