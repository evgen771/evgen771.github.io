---
layout: post
title: find vs grep vs ripgrep
categories: Программы
---

Ниже - **чёткое и практическое сравнение `find`, `grep` и `ripgrep (rg)`**, с таблицей, примерами и рекомендациями, **что и когда использовать**.

---

#### Кратко

| Инструмент       | Для чего предназначен                                             |
| ---------------- | ----------------------------------------------------------------- |
| **find**         | Поиск **файлов** (имя, тип, размер, дата, права)                  |
| **grep**         | Поиск **текста внутри файлов**                                    |
| **ripgrep (rg)** | Сверхбыстрый поиск текста в файлах (современная замена `grep -r`) |

>`find` **НЕ ищет текст**, `grep` и `rg` **НЕ ищут файлы по атрибутам**

---

#### find - поиск файлов

Что умеет:

- искать файлы и каталоги
- фильтровать по атрибутам
- выполнять действия (`-exec`, `-delete`)

Чего не умеет:

- искать текст внутри файлов

Примеры:

```sh
find . -name "*.log"
find /var -type f -size +100M
find . -mtime -1
```

#### Типичное применение

* найти старые файлы
* найти большие файлы
* найти скрипты
* подготовить список файлов для других команд

---

#### grep - поиск текста

Что умеет:

- искать текст внутри файлов
- регулярные выражения
- стандарт POSIX (есть везде)

Чего не умеет:

- фильтровать файлы по размеру, дате, правам
- игнорировать `.gitignore` по умолчанию
- очень быстрый рекурсивный поиск

Примеры:

```sh
grep "error" file.txt
grep -r "main" src/
grep -rin "TODO" .
```

#### Типичное применение

* поиск строк в логах
* анализ конфигов
* поиск по одному файлу

---

#### ripgrep (rg) - современный grep

Что умеет:

- всё, что `grep`
- **очень быстро**
- рекурсивно по умолчанию
- учитывает `.gitignore`
- умно пропускает бинарные файлы

Чего не умеет:

- искать файлы по атрибутам (как `find`)
- может быть не установлен по умолчанию

Примеры:

```sh
rg "error"
rg "TODO" src/
rg -i "password"
rg -t py "import os"
```

---

#### Скорость

| Инструмент    | Скорость        |
| ------------- | --------------- |
| `find + grep` | медленно        |
| `grep -r`     | нормально       |
| `ripgrep`     | очень быстро    |

> `rg` написан на **Rust**, использует mmap, параллелизм и оптимизации.

---

#### Сравнительная таблица

| Возможность            | find  | grep  | ripgrep |
| ---------------------- | ----  | ----  | ------- |
| Поиск файлов           | да    | нет   | нет     |
| Поиск текста           | нет   | да    | да      |
| Рекурсивный поиск      | да    | да    | да      |
| Скорость               | !     | !!    | !!!     |
| Учитывает `.gitignore` | нет   |нет    | да      |
| Регулярные выражения   | нет   | да    | да      |
| Везде установлен       | да    | да    | нет     |
| Подходит для логов     | !     | !!    | !!!     |
| Подходит для кода      | нет   | !     | !!!!    |

---

### Когда что использовать

#### Используй `find`, если нужно:

* найти файлы по параметрам

```sh
find . -name "*.sh" -mtime -7
```

---

#### Используй `grep`, если:

* ищешь текст **в конкретных файлах**
* нужна максимальная совместимость

```bash
grep "ERROR" /var/log/syslog
```

---

#### Используй `ripgrep`, если:

* ищешь текст **по всему проекту**
* работаешь с Git
* важна скорость

```sh
rg "TODO"
```

---

#### find + grep vs ripgrep

Плохо:

```sh
find . -type f -exec grep "error" {} +
```

Лучше:

```sh
rg "error"
```

- Сложно и медленно
- Плохая читаемость

---

#### Итог 

> **`find`** — ищет файлы
> **`grep`** — ищет текст
> **`ripgrep`** — ищет текст **быстро и умно**

