#### Сжатие медиа-файлов

*Примечание: Слишком большое сжатие файлов заметно ухудшит качество получаемого файла*.

#### Прежде всего, для аудиофайлов просто уменьшите битрейт (используя `-b:a` или `-ab`).

Чем выше битрейт, тем выше размер файла и качество:

```
ffmpeg -i audio_input.mp3 -ab 128k audio_output.mp3
ffmpeg -i audio_input.mp3 -b:a 192k audio_output.mp3
```

Для видео файлов у вас есть больше вариантов. 

#### Один из способов - уменьшить битрейт видео (используя `-b:v`):

`ffmpeg -i video_input.mp4 -b:v 1000k -bufsize 1000k video_output.mp4`

Можете установить флаг -crf (Constant Rate Factor - коэффициент постоянной скорости). 

Чем ниже CRF, тем выше скорость передачи данных. 

Помогает использование libx264 в качестве видеокодека.CRF от 20 до 30 распространен.

#### Эффективное уменьшение размера с очень небольшим снижением качества:

`ffmpeg -i video_input.mp4 -c:v libx264 -crf 28 video_output.mp4`

