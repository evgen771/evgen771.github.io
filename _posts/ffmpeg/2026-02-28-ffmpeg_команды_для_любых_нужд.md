---
layout: post
title: FFmpeg. Команды на все случаи жизни.
categories: FFmpeg
---


#### Получение информации о видеофайле

```bash
ffmpeg -i video.avi
```

#### Превратить набор картинок в видео .jpg

```bash
ffmpeg -f image2 -i image%d.jpg video.mpg
```

- Эта команда преобразует все картинки из текущей директории (названные image1.jpg, image2.jpg и т.д.) в видеофайл `video.mpg` 


#### Превратить набор картинок в видео .png

```bash
ffmpeg -r 12 -y -i "image_%010d.png" output.mpg
```

- здесь задаётся frame rate (12) для видео, формат «image_%010d.png» означает, что картинки будут искаться в виде image_0000000001.png, image_0000000002.png и тд.

#### Порезать видео на картинки

```bash
ffmpeg -i video.mpg image%d.jpg
```

- Эта команда создаст файлы `image1.jpg`, `image2.jpg` и т.д., поддерживаются так же форматы PGM, PPM, PAM, PGMYUV, JPEG, GIF, PNG, TIFF, SGI.  

#### Конвертировать видео в формат iPod/iPhone

```bash
ffmpeg -i source_video.avi input -acodec aac -ab 128kb -vcodec mpeg4 -b 1200kb -mbd 2 -flags +4mv+trell -aic 2 -cmp 2 -subcmp 2 -s 320x180 -title X final_video.mp4
```

Пояснения:  
  
- Источник: source_video.avi
- Аудио кодек: aac
- Битрейт аудио: 128kb/s
- Видео кодек: mpeg4
- Битрейт видео: 1200kb/s
- Размер видео: 320 на 180 пикселей
- Полученное видео: final_video.mp4

#### Конвертировать видео в формат PSP

```bash
ffmpeg -i source_video.avi -b 300 -s 320x240 -vcodec xvid -ab 32 -ar 24000 -acodec aac final_video.mp4
```

Пояснения:  
  
- Источник: source_video.avi
- Аудио кодек: aac
- Битрейт аудио: 32kb/s
- Видео кодек: xvid
- Битрейт видео: 1200kb/s
- Размер видео: 320 на 180 пикселей
- Полученное видео: final_video.mp4

#### Извлечь звуковую дорожку из видео и сохранить в mp3

```bash
ffmpeg -i source_video.avi -vn -ar 44100 -ac 2 -ab 192K -f mp3 sound.mp3
```

Пояснения:  

- Источник: source_video.avi
- Битрейт аудио: 192kb/s
- Выходной формат: mp3
- Полученный аудиофайл: sound.mp3

#### Конвертировать wav в mp3

```bash
ffmpeg -i son_origine.wav -vn -ar 44100 -ac 2 -ab 192 -f mp3 son_final.mp3
```

#### Конвертировать .avi в .mpg

```bash
ffmpeg -i video_origine.avi video_finale.mpg
```

#### Конвертировать .mpg в .avi

```bash
ffmpeg -i video_origine.mpg video_finale.avi
```

#### Конвертировать .avi в .gif (без сжатия)

```bash
ffmpeg -i video_origine.avi gif_anime.gif
```

### Добавить звук к видео

```bash
ffmpeg -i son.wav -i video_origine.avi video_finale.mpg
```

#### Конвертировать .avi в .flv

```bash
ffmpeg -i video_origine.avi -ab 56 -ar 44100 -b 200 -r 15 -s 320x240 -f flv video_finale.flv
```

#### Конвертировать .avi в .dv

```bash
ffmpeg -i video_origine.avi -s pal -r pal -aspect 4:3 -ar 48000 -ac 2 video_finale.dv
```

или  

```bash
ffmpeg -i video_origine.avi -target pal-dv video_finale.dv
```

#### Конвертировать .avi в mpeg для DVD-плееров

```bash
ffmpeg -i source_video.avi -target pal-dvd -ps 2000000000 -aspect 16:9 finale_video.mpeg
```

Пояснения:  
 
- Выходной формат: pal-dvd
- Максимальный размер для выходного файла: 2000000000 (2 Gb)
- Широкоэкранный формат: 16:9

#### Сжать .avi в DivX

```bash
ffmpeg -i video_origine.avi -s 320x240 -vcodec msmpeg4v2 video_finale.avi
```

#### Сжать [OGG Theora](http://ru.wikipedia.org/wiki/Theora) в mpeg DVD

```bash
ffmpeg -i film_sortie_cinelerra.ogm -s 720x576 -vcodec mpeg2video -acodec mp3 film_termin.mpg
```

#### Сжать .avi в [SVCD](http://ru.wikipedia.org/wiki/Super_Video_CD) mpeg2
  
Формат [NTSC](http://ru.wikipedia.org/wiki/NTSC):  

```bash
ffmpeg -i video_origine.avi -target ntsc-svcd video_finale.mpg
```

Формат [PAL](http://ru.wikipedia.org/wiki/PAL):  

```bash
ffmpeg -i video_origine.avi -target pal-svcd video_finale.mpg
```

#### Сжать .avi в [VCD](http://ru.wikipedia.org/wiki/Video_CD) mpeg2
  
Формат NTSC:  

```bash
ffmpeg -i video_origine.avi -target ntsc-vcd video_finale.mpg
```

Формат PAL:  

```bash
ffmpeg -i video_origine.avi -target pal-vcd video_finale.mpg
```

#### [Многопроходное кодирование](http://wiki.digital-digest.com/index.php/Multi-pass_Encoding) с помощью ffmpeg

```bash
ffmpeg -i fichierentree -pass 2 -passlogfile ffmpeg2pass fichiersortie-2
```


